<div class="public-documents-container" dir="rtl">
  <p-toast></p-toast>
  <!-- Page Header -->
  <div class="public-documents-header">
    <div class="header-content">
      <div class="header-left">
        <div class="icon-wrapper">
          <i class="pi pi-share-alt public-icon"></i>
        </div>
        <div>
          <h1 class="public-title">{{'Shared With Me'|translate}}</h1>
          <p class="public-subtitle">{{'Documents that have been shared with you'|translate}}</p>
        </div>
      </div>
      <!-- Optional: Search Bar for Public Documents (included for consistent layout) -->
      <div class="public-search-bar">
        <input type="text" placeholder="{{'Search shared documents...'|translate}}" class="search-input" />
        <i class="fas fa-search search-icon"></i>
      </div>
    </div>
  </div>
  <!-- Main Content Card -->
  <div class="public-content-card">
    <div class="card-content">
      <!-- Loading State -->
      <div *ngIf="loading" class="loading-state">
        <i class="fas fa-spinner fa-spin loading-spinner"></i>
        <p class="loading-text">{{'Loading shared documents...'|translate}}</p>
      </div>
      <!-- Error State -->
      <div *ngIf="!loading && error" class="error-state">
        <i class="fas fa-exclamation-triangle error-icon"></i>
        <h3 class="error-title">{{'Error loading documents'|translate}}</h3>
        <p class="error-message">{{ error }}</p>
        <button (click)="fetchSharedDocuments()" class="retry-button">
          <i class="fas fa-refresh"></i> {{'Retry'|translate}}
        </button>
      </div>
      <!-- Empty State -->
      <div *ngIf="!loading && !error && sharedDocuments.length === 0" class="empty-state">
        <i class="fas fa-cloud-slash empty-icon"></i>
        <h3 class="empty-title">{{'No Shared Documents Found'|translate}}</h3>
        <p class="empty-message">{{'It looks like no documents have been shared with you yet.'|translate}}</p>
      </div>
      <!-- Documents Grid -->
      <div *ngIf="!loading && !error && sharedDocuments.length > 0" class="documents-grid">
        <div *ngFor="let doc of sharedDocuments" class="document-card">
          <div class="card-header">
            <div class="doc-icon-wrapper">
              <i class="fas  doc-icon"
                 [class.fa-file-pdf]="doc.fileType === 'application/pdf'"
                 [class.fa-file-word]="doc.fileType === 'application/msword'"
                 [class.fa-file-alt]="doc.fileType === 'text/plain'"
                 [class.fa-music]="doc.fileType === 'audio/ogg'"
                 [class.fa-file-image]="doc.fileType === 'image/png'||doc.fileType === 'image/jpeg'||doc.fileType === 'image/gif'"
                 [class.fa-file]="doc.fileType === 'other'"></i>
              
            </div>
            <div class="doc-actions">
              <!-- No actions for shared documents in this view, but can be added if needed -->
            </div>
          </div>
          <h3 class="doc-title">{{ doc.fileName }}</h3>
          <div class="doc-meta">
            <span><i class="fas fa-calendar-alt"></i> {{ doc.createdAt | date:'shortDate' }}</span>
            <span *ngIf="doc.size"><i class="fas fa-database"></i> {{ doc.size }}</span>
            <span class="tag-badge" *ngIf="doc.tag">{{ doc.tag }}</span>
            <span class="privacy-badge" *ngIf="doc.privacy">{{ doc.privacy }}</span>
            <span *ngIf="doc.username" class="shared-by-info">
              <i class="fas fa-user"></i>
              <span>{{'Shared by:'|translate}} {{ doc.username }}</span>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
