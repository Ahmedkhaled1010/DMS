<!-- Responsive Sidebar Container -->
<div class="relative">
  <!-- Mobile Menu Button (visible on mobile only) -->
  <button 
    (click)="toggleMobileSidebar()"
    class="md:hidden fixed top-4 left-4 z-50 p-2 rounded-lg transition-all duration-300 shadow-lg"
    [class]="isDarkMode ? 'bg-gray-800 text-white border border-gray-600' : 'bg-white text-gray-900 border border-gray-200'"
    aria-label="Toggle Menu">
    <i [ngClass]="(mobileOpen$ | async) ? 'fas fa-times' : 'fas fa-bars'" class="text-lg"></i>
  </button>

  <!-- Sidebar -->
  <aside 
    id="sidebar" 
    class="fixed left-0 top-0 h-full text-white overflow-y-auto transition-all duration-300 z-40"
    [ngClass]="isDarkMode ? 'bg-gray-800' : 'bg-main'"
    [ngClass]="{
      'w-64': true,
      'md:translate-x-0': true,
      '-translate-x-full': !(mobileOpen$ | async),
      'translate-x-0': (mobileOpen$ | async)
    }">
    
    <div class="p-6">
      <!-- Logo Section -->
      <div class="mb-8 mt-8 md:mt-0">
        <div class="logo-section">
          <div class="logo-container">
            <div class="logo-icon">
              <i class="fas fa-cloud"></i>
            </div>
            <div class="logo-rings">
              <div class="ring ring-1"></div>
              <div class="ring ring-2"></div>
              <div class="ring ring-3"></div>
            </div>
          </div>
        </div>

        <!-- Navigation Menu -->
        <div class="space-y-2">
          <!-- Dashboard -->
          <div routerLink="/home/dashboard"
               (click)="closeMobileSidebar()"
               class="menu-item flex items-center gap-3 p-3 rounded-lg hover:bg-white hover:bg-opacity-10 cursor-pointer transition-all duration-200 group"
               routerLinkActive="active"
               role="button"
               tabindex="0"
               [attr.aria-label]="'Navigate to ' + ('Dashboard'|translate)">
            <i class="fa-solid fa-house text-lg group-hover:scale-110 transition-transform" aria-hidden="true"></i>
            <span class="group-hover:translate-x-1 transition-transform font-medium">{{'Dashboard'|translate}}</span>
          </div>

          <!-- Documents -->
          <div routerLink="Documents"
               (click)="closeMobileSidebar()"
               class="menu-item flex items-center gap-3 p-3 rounded-lg hover:bg-white hover:bg-opacity-10 cursor-pointer transition-all duration-200 group"
               routerLinkActive="active"
               role="button"
               tabindex="0"
               [attr.aria-label]="'Navigate to ' + ('Documents'|translate)">
            <i class="far fa-file text-lg group-hover:scale-110 transition-transform" aria-hidden="true"></i>
            <span class="group-hover:translate-x-1 transition-transform font-medium">{{'Documents'|translate}}</span>
          </div>

          <!-- Folders -->
          <div routerLink="Folders"
               (click)="closeMobileSidebar()"
               class="menu-item flex items-center gap-3 p-3 rounded-lg hover:bg-white hover:bg-opacity-10 cursor-pointer transition-all duration-200 group"
               routerLinkActive="active"
               role="button"
               tabindex="0"
               [attr.aria-label]="'Navigate to ' + ('Folders'|translate)">
            <i class="far fa-folder text-lg group-hover:scale-110 transition-transform" aria-hidden="true"></i>
            <span class="group-hover:translate-x-1 transition-transform font-medium">{{'Folders'|translate}}</span>
          </div>

          <!-- Workspaces -->
          <div routerLink="workspaces"
               (click)="closeMobileSidebar()"
               class="menu-item flex items-center gap-3 p-3 rounded-lg hover:bg-white hover:bg-opacity-10 cursor-pointer transition-all duration-200 group"
               routerLinkActive="active"
               role="button"
               tabindex="0"
               [attr.aria-label]="'Navigate to ' + ('Work Space'|translate)">
            <i class="fa-solid fa-briefcase text-lg group-hover:scale-110 transition-transform" aria-hidden="true"></i>
            <span class="group-hover:translate-x-1 transition-transform font-medium">{{'Work Space'|translate}}</span>
          </div>

          <!-- Public Documents -->
          <div routerLink="public"
               (click)="closeMobileSidebar()"
               class="menu-item flex items-center gap-3 p-3 rounded-lg hover:bg-white hover:bg-opacity-10 cursor-pointer transition-all duration-200 group"
               routerLinkActive="active"
               role="button"
               tabindex="0"
               [attr.aria-label]="'Navigate to ' + ('PUBLIC'|translate)">
            <i class="fa-solid fa-globe text-lg group-hover:scale-110 transition-transform" aria-hidden="true"></i>
            <span class="group-hover:translate-x-1 transition-transform font-medium">{{'PUBLIC'|translate}}</span>
          </div>

          <!-- Divider -->
          <div class="border-t border-white border-opacity-20 my-4"></div>

          <!-- Shared Documents -->
          <div routerLink="SharedDocuments"
               (click)="closeMobileSidebar()"
               class="menu-item flex items-center gap-3 p-3 rounded-lg hover:bg-white hover:bg-opacity-10 cursor-pointer transition-all duration-200 group"
               routerLinkActive="active"
               role="button"
               tabindex="0"
               aria-label="Navigate to Shared Documents">
            <i class="fa-regular fa-share-from-square text-lg group-hover:scale-110 transition-transform" aria-hidden="true"></i>
            <span class="group-hover:translate-x-1 transition-transform font-medium">Shared With Me</span>
          </div>

          <!-- Archived Documents -->
          <div routerLink="ArchivedDocuments"
               (click)="closeMobileSidebar()"
               class="menu-item flex items-center gap-3 p-3 rounded-lg hover:bg-white hover:bg-opacity-10 cursor-pointer transition-all duration-200 group"
               routerLinkActive="active"
               role="button"
               tabindex="0"
               aria-label="Navigate to Archived Documents">
            <i class="fa-regular fa-file-zipper text-lg group-hover:scale-110 transition-transform" aria-hidden="true"></i>
            <span class="group-hover:translate-x-1 transition-transform font-medium">Archived</span>
          </div>

          <!-- Deleted Documents -->
          <div routerLink="DeletedDocuments"
               (click)="closeMobileSidebar()"
               class="menu-item flex items-center gap-3 p-3 rounded-lg hover:bg-white hover:bg-opacity-10 cursor-pointer transition-all duration-200 group"
               routerLinkActive="active"
               role="button"
               tabindex="0"
               aria-label="Navigate to Trash">
            <i class="far fa-trash-alt text-lg group-hover:scale-110 transition-transform" aria-hidden="true"></i>
            <span class="group-hover:translate-x-1 transition-transform font-medium">Trash</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Bottom Section (visible on larger screens) -->
    <div class="absolute bottom-0 left-0 right-0 p-6 hidden md:block">
      <div class="text-center text-white text-opacity-60 text-xs">
        <p>&copy; 2024 DMS</p>
        <p>Document Management System</p>
      </div>
    </div>
  </aside>

  <!-- Mobile Overlay -->
  <div 
    *ngIf="(mobileOpen$ | async)"
    class="fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden"
    (click)="closeMobileSidebar()"
    aria-hidden="true">
  </div>
</div>
