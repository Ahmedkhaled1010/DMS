<p-dialog
  [header]="'Update Document' | translate"
  [(visible)]="showEditModal"
  [modal]="true"
  [closable]="true"
  [draggable]="false"
  [resizable]="false"
  (onHide)="closeEditDialog()"
  styleClass="edit-document-dialog"
  [contentStyle]="{ padding: '0' }"
>
  <div class="p-6">
    <form
      [formGroup]="editForm"
      (ngSubmit)="updateDocument()"
      class="space-y-6"
    >
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- العنوان -->

        <!-- اسم الملف -->
        <div>
          <label
            for="fileName"
            class="block text-sm font-medium text-gray-700 mb-2"
          >
            {{ "File name" | translate }}
          </label>
          <input
            pInputText
            id="fileName"
            formControlName="fileName"
            [placeholder]="'Enter The Name of the New Document' | translate"
            styleClass="w-full custom-input"
          />
          <small
            *ngIf="
              editForm.get('fileName')?.invalid &&
              editForm.get('fileName')?.touched
            "
            class="p-error block mt-1"
            >اسم الملف مطلوب.</small
          >
        </div>

        <!-- تم إزالة حقل نوع الملف (fileType) -->
        <!-- تم إزالة حقل مسار الملف (filePath) -->

        <!-- التصنيف -->
        <div>
          <label for="tag" class="block text-sm font-medium text-gray-700 mb-2">
            {{ "Classification" | translate }}</label
          >
          <input
            pInputText
            id="tag"
            formControlName="tag"
            [placeholder]="'Enter Classification' | translate"
            styleClass="w-full custom-input"
          />

          <small
            *ngIf="editForm.get('tag')?.invalid && editForm.get('tag')?.touched"
            class="p-error block mt-1"
            >التصنيف مطلوب.</small
          >
        </div>

        <!-- الخصوصية -->
        <div>
          <label
            for="privacy"
            class="block text-sm font-medium text-gray-700 mb-2"
          >
            {{ "Privacy" | translate }}
          </label>
          <p-dropdown
            id="privacy"
            formControlName="privacy"
            [options]="privacyOptions"
            [placeholder]="'Enter The Level of Privacy' | translate"
            [showClear]="true"
            styleClass="w-full custom-dropdown"
            appendTo="body"
          />
          <small
            *ngIf="
              editForm.get('privacy')?.invalid &&
              editForm.get('privacy')?.touched
            "
            class="p-error block mt-1"
            >الخصوصية مطلوبة.</small
          >
        </div>

        <!-- مساحة العمل (جديد) -->
        <div>
          <label
            for="workspaceName"
            class="block text-sm font-medium text-gray-700 mb-2"
          >
            {{ "Work Space" | translate }}
          </label>
          <p-dropdown
            id="workspaceName"
            formControlName="workspaceName"
            [options]="workspaceOptions"
            optionLabel="name"
            optionValue="id"
            [placeholder]="'Choose the workspace ' | translate"
            [showClear]="true"
            styleClass="w-full custom-dropdown"
            appendTo="body"
          />
          <small
            *ngIf="
              editForm.get('workspaceName')?.invalid &&
              editForm.get('workspaceName')?.touched
            "
            class="p-error block mt-1"
            >مساحة العمل مطلوبة.</small
          >
        </div>

        <!-- المجلد -->
        <div>
          <label
            for="folderId"
            class="block text-sm font-medium text-gray-700 mb-2"
          >
            {{ "Folder" | translate }}
          </label>
          <p-dropdown
            id="folderId"
            formControlName="folderId"
            [options]="folderOptions"
            optionLabel="name"
            optionValue="id"
            [placeholder]="'Choose the Folder' | translate"
            [showClear]="true"
            styleClass="w-full custom-dropdown"
            appendTo="body"
          />
          <small
            *ngIf="
              editForm.get('folderId')?.invalid &&
              editForm.get('folderId')?.touched
            "
            class="p-error block mt-1"
            >المجلد مطلوب.</small
          >
        </div>

        <!-- خيارات الحالة (جديد - مربعات اختيار) -->
        <div>
          <div
            class="md:col-span-2 grid grid-cols-1 sm:grid-cols-3 gap-4 pt-4 border-t border-gray-200"
          >
          
           
            <!-- أزرار الإجراءات -->
            <div class="flex gap-3 pt-4 border-t border-gray-200">
              <p-button
                type="submit"
                [label]="'Save Changes' | translate"
                [loading]="updating"
                severity="primary"
                styleClass="flex-1 custom-button-primary"
                [disabled]="editForm.invalid"
              />
              <p-button
                type="button"
                [label]="'Cancel' | translate"
                (onClick)="closeEditDialog()"
                [outlined]="true"
                severity="secondary"
                styleClass="flex-1 custom-button-secondary"
              />
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</p-dialog>

<p-toast></p-toast>
